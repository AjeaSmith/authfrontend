(function(e){function r(r){for(var n,s,u=r[0],i=r[1],l=r[2],f=0,p=[];f<u.length;f++)s=u[f],a[s]&&p.push(a[s][0]),a[s]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);c&&c(r);while(p.length)p.shift()();return o.push.apply(o,l||[]),t()}function t(){for(var e,r=0;r<o.length;r++){for(var t=o[r],n=!0,u=1;u<t.length;u++){var i=t[u];0!==a[i]&&(n=!1)}n&&(o.splice(r--,1),e=s(s.s=t[0]))}return e}var n={},a={app:0},o=[];function s(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=n,s.d=function(e,r,t){s.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,r){if(1&r&&(e=s(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)s.d(t,n,function(r){return e[r]}.bind(null,n));return t},s.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(r,"a",r),r},s.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},s.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=r,u=u.slice();for(var l=0;l<u.length;l++)r(u[l]);var c=i;o.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},"034f":function(e,r,t){"use strict";var n=t("64a9"),a=t.n(n);a.a},1:function(e,r){},2:function(e,r){},3:function(e,r){},4:function(e,r){},"56d7":function(e,r,t){"use strict";t.r(r);t("cadf"),t("551c"),t("f751"),t("097d");var n=t("2b0e"),a=t("9f7b"),o=t.n(a);t("ab8b"),t("2dd8");n["default"].use(o.a);var s=t("d847"),u=t.n(s),i=t("795b"),l=t.n(i),c=t("bc3a"),f=t.n(c),p={},d=f.a.create(p);d.interceptors.request.use(function(e){return e},function(e){return l.a.reject(e)}),d.interceptors.response.use(function(e){return e},function(e){return l.a.reject(e)}),Plugin.install=function(e,r){e.axios=d,window.axios=d,u()(e.prototype,{axios:{get:function(){return d}},$axios:{get:function(){return d}}})},n["default"].use(Plugin);Plugin;var m=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"nav"}},[t("b-navbar",{staticClass:"navbar",attrs:{type:"dark",variant:"dark"}},[t("b-navbar-brand",[e._v("Auth with JWT")]),t("div",{staticClass:"right"},[t("b-nav-item",{attrs:{href:"#",to:"/login"}},[e._v("Login")]),t("b-nav-item",{attrs:{href:"#",to:"/"}},[e._v("Register")]),t("b-nav-item",{attrs:{href:"#"},on:{click:function(r){return e.logout()}}},[e._v("Login Out")])],1)],1)],1),t("router-view")],1)},b=[],g={name:"App",methods:{logout:function(){localStorage.removeItem("token"),this.$router.push("/login")}}},h=g,v=(t("034f"),t("2877")),w=Object(v["a"])(h,m,b,!1,null,null,null),y=w.exports,x=t("8c4f"),_=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div")},k=[],j={},M=j,O=Object(v["a"])(M,_,k,!1,null,null,null),$=O.exports,P=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div")},S=[],E={},C=E,q=Object(v["a"])(C,P,S,!1,null,null,null),T=q.exports,R=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("b-container",{staticClass:"mt-2"},[t("b-row",[t("b-col",[t("div",{staticClass:"form-flex"},[t("h3",{staticClass:"mb-3"},[e._v("Register to Manage Todos")]),t("b-form",{staticClass:"border p-3 form-width"},[e.errorMessage?t("b-alert",{attrs:{variant:"danger",show:""}},[e._v(e._s(e.errorMessage))]):e._e(),t("b-form-group",{attrs:{label:"Name"}},[t("b-form-input",{attrs:{type:"text",required:"",placeholder:"Your name"},model:{value:e.user.username,callback:function(r){e.$set(e.user,"username",r)},expression:"user.username"}})],1),t("b-form-group",{attrs:{label:"Email"}},[t("b-form-input",{attrs:{type:"email",required:"",placeholder:"Your email"},model:{value:e.user.email,callback:function(r){e.$set(e.user,"email",r)},expression:"user.email"}}),t("b-form-text",[e._v("ex: example.gmail.com")])],1),t("b-form-group",{attrs:{label:"Password"}},[t("b-form-input",{attrs:{type:"password",required:"",placeholder:"Your password"},model:{value:e.user.password,callback:function(r){e.$set(e.user,"password",r)},expression:"user.password"}})],1),t("b-form-group",[t("b-button",{attrs:{block:"",variant:"success"},on:{click:function(r){return e.registerUser()}}},[e._v("Register")])],1)],1)],1)])],1)],1)},A=[],J=(t("6762"),t("2fdb"),t("ac6a"),t("f0b1")),U=t.n(J),Y="https://vueauthapp.herokuapp.com/",L=U.a.object().keys({username:U.a.string().min(4).max(30).trim().required(),email:U.a.string().email().required(),password:U.a.string().trim().regex(/^[a-zA-Z0-9]{10,30}$/)}),N={name:"Register",data:function(){return{errorMessage:"",user:{username:"",email:"",password:""}}},methods:{registerUser:function(){var e=this;if(this.errorMessage="",this.validate()){var r={username:this.user.username,email:this.user.email,password:this.user.password};f.a.post("".concat(Y,"api/auth/"),r).then(function(r){r.data&&(localStorage.token=r.data.token,e.$router.push("/homepage"))}).catch(function(r){e.errorMessage="User already exists"})}},validate:function(){var e=U.a.validate(this.user,L);return null===e.error||(e.error.message.includes("name")&&(this.errorMessage="Name must be longer than 4 characters & Cannot be empty"),e.error.message.includes("password")&&(this.errorMessage="Password cannot be empty, must be 6-8 characters long"),e.error.message.includes("email")&&(this.errorMessage="Email cannot be empty & Must be a valid email"),!1)}},watch:{user:{handler:function(){this.errorMessage=""},deep:!0}}},z=N,I=(t("939e"),Object(v["a"])(z,R,A,!1,null,"5261051e",null)),W=I.exports;n["default"].use(x["a"]);var Z=new x["a"]({mode:"history",base:"/",routes:[{path:"/",name:"register",component:W,beforeEnter:function(e,r,t){localStorage.token?t("/homepage"):t()}},{path:"/login",name:"login",component:T,beforeEnter:function(e,r,t){localStorage.token?t("/homepage"):t()}},{path:"/homepage",name:"homepage",component:$,beforeEnter:function(e,r,t){localStorage.token?t():t("/login")}}]}),B=t("2f62");n["default"].use(B["a"]);var D=new B["a"].Store({state:{},mutations:{},actions:{}});n["default"].config.productionTip=!1,new n["default"]({router:Z,store:D,render:function(e){return e(y)}}).$mount("#app")},"64a9":function(e,r,t){},"8fff":function(e,r,t){},"939e":function(e,r,t){"use strict";var n=t("8fff"),a=t.n(n);a.a}});
//# sourceMappingURL=app.7b967ab1.js.map